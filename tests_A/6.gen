#!/usr/bin/perl -l

srand (1006);

$n = 100000;
$q = 100000;
print "$n $q";

@T = (2..$n);
for (1..$n/2) { 
	$x = int(rand($n-1));
	$y = int(rand($n-1));
	($T[$x],$T[$y]) = ($T[$y],$T[$x]);
}

@intree = (1);
for (@T) {
	$p{$_} = $intree[int(rand(@intree))];
	push @intree, $_;
}

for (2..$n) {
	print $p{$_};
}

for (1..$q) {
	$a = $b = int (rand($n)) + 1;
	while ($a == $b) {
		$b = int (rand($n)) + 1;
	}
	print "$a $b";
}

